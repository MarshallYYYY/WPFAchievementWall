<UserControl
    x:Class="Client.Views.SettingsView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:Client.Views"
    mc:Ignorable="d"
    d:DesignHeight="450"
    d:DesignWidth="800"
    xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:prism="http://prismlibrary.com/"
    xmlns:md="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:viewmodels="clr-namespace:Client.ViewModels"
    xmlns:common="clr-namespace:Client.Common"
    d:DataContext="{d:DesignInstance Type=viewmodels:SettingsViewModel}">

    <md:Card>

        <TabControl
            SelectedIndex="{Binding Path=TabControlSelectedIndex}"
            md:NavigationRailAssist.ShowSelectionBackground="True"
            SnapsToDevicePixels="True"
            Style="{StaticResource MaterialDesignNavigationRailTabControl}"
            TabStripPlacement="Left">

            <i:Interaction.Triggers>
                <i:EventTrigger
                    EventName="SelectionChanged">
                    <prism:InvokeCommandAction
                        Command="{Binding Path=TabChangedCommand}"
                        CommandParameter="{Binding Path=SelectedItem,          
                        RelativeSource={RelativeSource AncestorType=TabControl}}" />
                </i:EventTrigger>
            </i:Interaction.Triggers>

            <!--关于我们-->
            <TabItem
                Tag="{x:Static common:SettingsTabItemTags.About}"
                Padding="20"
                Width="auto">

                <TabItem.Header>
                    <TextBlock
                        FontSize="22"
                        HorizontalAlignment="Center"
                        Text="{x:Static common:SettingsTabItemTags.About}" />
                </TabItem.Header>

                <StackPanel
                    Margin="16">
                    <TextBlock
                        FontSize="27"
                        Margin="0,0,0,8"
                        HorizontalAlignment="Center"
                        Style="{StaticResource MaterialDesignHeadline5TextBlock}"
                        Text="{x:Static common:SettingsTabItemTags.About}" />
                    <TextBlock
                        HorizontalAlignment="Center"
                        FontSize="18">
                        <LineBreak />
                        <Run
                            Text="软件名称：个人成就记录墙" />
                        <LineBreak />
                        <LineBreak />
                        <Run
                            Text="作    者：古法编程师" />
                        <LineBreak />
                        <LineBreak />
                        <Run
                            Text="联系方式：1746155023@qq.com" />
                    </TextBlock>
                </StackPanel>
            </TabItem>

            <!--更换头像-->
            <TabItem
                Visibility="Collapsed"
                Tag="{x:Static common:SettingsTabItemTags.ChangeAvatar}"
                Padding="20"
                Width="auto">

                <TabItem.Header>
                    <TextBlock
                        FontSize="22"
                        HorizontalAlignment="Center"
                        Text="{x:Static common:SettingsTabItemTags.ChangeAvatar}" />
                </TabItem.Header>

                <StackPanel
                    Margin="16">
                    <TextBlock
                        FontSize="27"
                        Margin="0,0,0,8"
                        Style="{StaticResource MaterialDesignHeadline5TextBlock}"
                        Text="{x:Static common:SettingsTabItemTags.ChangeAvatar}" />
                    <TextBlock
                        FontSize="18">
                        <Run
                            Text="个人成就记录墙 软件" />
                        <LineBreak />
                        <LineBreak />
                        <Run
                            Text="作者：1746155023@qq.com">
                        </Run>
                    </TextBlock>
                </StackPanel>
            </TabItem>

            <!--更换昵称-->
            <TabItem
                Tag="{x:Static common:SettingsTabItemTags.ChangeUserName}"
                Padding="20"
                Width="auto">

                <TabItem.Header>
                    <TextBlock
                        FontSize="22"
                        HorizontalAlignment="Center"
                        Text="{x:Static common:SettingsTabItemTags.ChangeUserName}" />
                </TabItem.Header>

                <Grid
                    Margin="16">

                    <Grid.RowDefinitions>
                        <RowDefinition
                            Height="auto" />
                        <RowDefinition />
                    </Grid.RowDefinitions>

                    <TextBlock
                        Grid.Row="0"
                        HorizontalAlignment="Center"
                        FontSize="27"
                        Margin="0,0,0,8"
                        Style="{StaticResource MaterialDesignHeadline5TextBlock}"
                        Text="{x:Static common:SettingsTabItemTags.ChangeUserName}" />

                    <Grid
                        Grid.Row="1">

                        <StackPanel
                            VerticalAlignment="Top"
                            HorizontalAlignment="Center">

                            <TextBox
                                Text="{Binding Path=NewUserName}"
                                Margin="0,50"
                                Width="380"
                                MaxLength="12"
                                VerticalContentAlignment="Center"
                                Style="{StaticResource MaterialDesignOutlinedTextBox}"
                                md:TextFieldAssist.HasClearButton="True"
                                md:HintAssist.Hint="请输入新昵称"
                                FontSize="22" />
                            <Button
                                Command="{Binding Path=SaveUserNameCommand}"
                                FontSize="22"
                                Width="120"
                                Height="38"
                                Content="保存" />

                        </StackPanel>

                    </Grid>

                </Grid>

            </TabItem>

            <!--修改密码-->
            <TabItem
                Tag="{x:Static common:SettingsTabItemTags.ChangePassword}"
                Padding="20"
                Width="auto">

                <TabItem.Header>
                    <TextBlock
                        FontSize="22"
                        HorizontalAlignment="Center"
                        Text="{x:Static common:SettingsTabItemTags.ChangePassword}" />
                </TabItem.Header>

                <Grid
                    Margin="16">

                    <Grid.RowDefinitions>
                        <RowDefinition
                            Height="auto" />
                        <RowDefinition />
                    </Grid.RowDefinitions>

                    <TextBlock
                        Grid.Row="0"
                        HorizontalAlignment="Center"
                        FontSize="27"
                        Margin="0,0,0,8"
                        Style="{StaticResource MaterialDesignHeadline5TextBlock}"
                        Text="{x:Static common:SettingsTabItemTags.ChangePassword}" />

                    <Grid
                        Grid.Row="1">

                        <StackPanel
                            VerticalAlignment="Top"
                            HorizontalAlignment="Center">

                            <PasswordBox
                                md:PasswordBoxAssist.Password="{Binding Path=OldPassword, UpdateSourceTrigger=PropertyChanged}"
                                MaxLength="12"
                                Style="{StaticResource MaterialDesignOutlinedPasswordBox}"
                                Margin="0,50,0,30"
                                Width="380"
                                VerticalContentAlignment="Center"
                                FontSize="22"
                                md:HintAssist.Hint="请输入旧密码"
                                md:TextFieldAssist.HasClearButton="True" />

                            <PasswordBox
                                md:PasswordBoxAssist.Password="{Binding Path=NewPassword, UpdateSourceTrigger=PropertyChanged}"
                                MaxLength="12"
                                Style="{StaticResource MaterialDesignOutlinedPasswordBox}"
                                Margin="0,30"
                                Width="380"
                                VerticalContentAlignment="Center"
                                FontSize="22"
                                md:HintAssist.Hint="请输入新密码"
                                md:TextFieldAssist.HasClearButton="True" />

                            <!--Style:MaterialDesignOutlinedRevealPasswordBox 带有一个显示密码的按钮-->
                            <PasswordBox
                                md:PasswordBoxAssist.Password="{Binding Path=NewPasswordAgain, 
                                UpdateSourceTrigger=PropertyChanged}"
                                MaxLength="12"
                                Style="{StaticResource MaterialDesignOutlinedPasswordBox}"
                                Margin="0,30,0,50"
                                Width="380"
                                VerticalContentAlignment="Center"
                                FontSize="22"
                                md:HintAssist.Hint="请再次输入新密码"
                                md:TextFieldAssist.HasClearButton="True" />
                            <Button
                                Command="{Binding Path=SavePasswordCommand}"
                                FontSize="22"
                                Width="120"
                                Height="38"
                                Content="保存" />

                        </StackPanel>

                    </Grid>

                </Grid>

            </TabItem>

            <!--注销账号-->
            <TabItem
                Tag="{x:Static common:SettingsTabItemTags.DeleteAccount}"
                Padding="20"
                Width="auto">

                <TabItem.Header>
                    <TextBlock
                        FontSize="22"
                        HorizontalAlignment="Center"
                        Text="{x:Static common:SettingsTabItemTags.DeleteAccount}" />
                </TabItem.Header>

            </TabItem>

            <!--退出登录-->
            <TabItem
                Tag="{x:Static common:SettingsTabItemTags.LogOut}"
                Padding="20"
                Width="auto">

                <TabItem.Header>
                    <TextBlock
                        FontSize="22"
                        HorizontalAlignment="Center"
                        Text="{x:Static common:SettingsTabItemTags.LogOut}" />
                </TabItem.Header>

            </TabItem>

        </TabControl>

    </md:Card>

</UserControl>