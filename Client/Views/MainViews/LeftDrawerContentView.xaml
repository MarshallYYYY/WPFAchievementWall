<UserControl
    x:Class="Client.Views.MainViews.LeftDrawerContentView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:Client.Views.MainViews"
    mc:Ignorable="d"
    d:DesignHeight="450"
    d:DesignWidth="800"
    xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:md="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:viewmodels="clr-namespace:Client.ViewModels"
    xmlns:prism="http://prismlibrary.com/"
    d:DataContext="{d:DesignInstance Type=viewmodels:MainViewModel}">

    <DockPanel
        MinWidth="220">

        <!--  头像和ID  -->
        <StackPanel
            Margin="0,20"
            DockPanel.Dock="Top">

            <Image
                Height="80"
                Width="80"
                Source="/Images/Marshall.jpg">
                <Image.Clip>
                    <EllipseGeometry
                        Center="40,40"
                        RadiusX="40"
                        RadiusY="40" />
                </Image.Clip>
            </Image>
            <TextBlock
                Text="{Binding Path=UserName}"
                FontSize="22"
                Margin="0,10"
                HorizontalAlignment="Center" />

        </StackPanel>

        <!--  菜单列表  -->
        <ListBox
            x:Name="menuBar"
            ItemsSource="{Binding Menus}"
            ItemContainerStyle="{StaticResource MyListBoxItemStyle}">

            <!--菜单选项改变时的触发器-->
            <i:Interaction.Triggers>
                <i:EventTrigger
                    EventName="SelectionChanged">

                    <i:InvokeCommandAction
                        Command="{Binding NavigateCommand}"
                        CommandParameter="{Binding ElementName=menuBar, Path=SelectedItem}" />

                </i:EventTrigger>
            </i:Interaction.Triggers>

            <ListBox.ItemTemplate>
                <DataTemplate>

                    <StackPanel
                        Orientation="Horizontal"
                        Background="Transparent">
                        <TextBlock
                            Text="{Binding Icon}"
                            FontSize="16"
                            Margin="15,0,10,0" />
                        <TextBlock
                            FontSize="16"
                            Text="{Binding Title}" />
                    </StackPanel>

                </DataTemplate>
            </ListBox.ItemTemplate>

        </ListBox>

    </DockPanel>
</UserControl>