<UserControl
    x:Class="Client.Views.MainViews.LeftDrawerContentControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:Client.Views.MainViews"
    mc:Ignorable="d"
    d:DesignHeight="450"
    d:DesignWidth="800"
    xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:md="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:viewmodels="clr-namespace:Client.ViewModels"
    d:DataContext="{d:DesignInstance Type=viewmodels:MainViewModel}">

    <DockPanel
        MinWidth="220">

        <!--  头像和ID  -->
        <StackPanel
            Margin="0,20"
            DockPanel.Dock="Top">
            
            <Image
                Height="50"
                Width="50"
                Source="/Images/Marshall.jpg">
                <Image.Clip>
                    <EllipseGeometry
                        Center="25,25"
                        RadiusX="25"
                        RadiusY="25" />
                </Image.Clip>
            </Image>
            <TextBlock
                Text="Marshall Yu"
                Margin="0,10"
                HorizontalAlignment="Center" />
            
        </StackPanel>

        <!--  菜单列表  -->
        <ListBox
            x:Name="menuBar"
            ItemsSource="{Binding Menus}"
            ItemContainerStyle="{StaticResource MyListBoxItemStyle}">

            <!--菜单选项改变时的触发器-->
            <i:Interaction.Triggers>
                <i:EventTrigger
                    EventName="SelectionChanged">
                    
                    <i:InvokeCommandAction
                        Command="{Binding NavigateCommand}"
                        CommandParameter="{Binding ElementName=menuBar, Path=SelectedItem}" />
                    
                </i:EventTrigger>
            </i:Interaction.Triggers>

            <ListBox.ItemTemplate>
                <DataTemplate>
                    
                    <StackPanel
                        Orientation="Horizontal"
                        Background="Transparent">
                        <TextBlock
                            Text="{Binding Icon}"
                            Margin="10,0" />
                        <TextBlock
                            Text="{Binding Title}"
                            Margin="10,0" />
                    </StackPanel>
                    
                </DataTemplate>
            </ListBox.ItemTemplate>
            
        </ListBox>

    </DockPanel>
</UserControl>
